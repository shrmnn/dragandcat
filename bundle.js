(()=>{const e=document.querySelector(".grid"),t=document.querySelector(".hoop"),o=document.querySelector(".spawner"),n=document.querySelector("main");let s,r;function a(){this.classList.add("hold"),s=this}function d(e){this.classList.remove("hold"),s=null,function(e){e.target.classList.remove("absolute"),e.target.style.left="0",e.target.style.top="0"}(e),r===t&&function(e){e.target.classList.add("absolute"),(e.offsetX<0||e.offsetY<0)&&e.target.parentNode.removeChild(e.target),e.target.style.left=e.offsetX-50+"px",e.target.style.top=e.offsetY-50+"px"}(e),r=null}function i(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function l(e){this.classList.add("hovered"),r=this}function c(e){this.classList.remove("hovered")}function u(n){n.stopPropagation(),this.classList.remove("hovered"),console.log("event",this,n,n.target,r),this!==o||this!==v?this.append(s):this!==t&&this!==e&&(console.log("removed!",this),s.parentNode.removeChild(s)),o.childElementCount<=0&&f()}function f(){const e=document.createElement("div");var t;e.className="cat",e.draggable=!0,e.style.outlineColor=`#${Math.floor(16777215*Math.random()).toString(16)}`,(t=e).addEventListener("dragstart",a),t.addEventListener("dragend",d),o.append(e)}function h(e){e.addEventListener("dragover",i),e.addEventListener("dragenter",l),e.addEventListener("dragleave",c),e.addEventListener("drop",u)}function v(){f(),h(e),h(t),h(o),n.addEventListener("drop",u)}v(),window.currentField=r})();