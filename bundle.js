(()=>{const e=document.querySelector(".grid"),t=document.querySelector(".hoop"),o=document.querySelector(".spawner");let n,d;const r=e=>{e.preventDefault(),n=e.target,n.classList.add("absolute"),n.classList.add("hold"),document.body.append(n),a(n,e),document.addEventListener("pointermove",s),n.addEventListener("pointerup",l),n.ondragstart=()=>!1},s=e=>{a(n,e)},l=r=>{document.removeEventListener("pointermove",s),n.removeEventListener("pointerup",l),n.classList.remove("hold"),d=document.elementsFromPoint(r.clientX,r.clientY).filter((o=>[e,t].includes(o)))[0],d&&d.classList.add("hovered"),d===e&&(function(e){e.classList.remove("absolute"),e.style.left="0",e.style.top="0"}(n),i(n)),d===t&&(function(e,t){(e.offsetX<0||e.offsetY<0)&&e.parentNode.removeChild(e),a(e,t,{x:d.offsetLeft,y:d.offsetTop})}(n,r),i(n)),d&&"undefined"!==d||function(e){e.parentNode.removeChild(e),o.childElementCount<=0&&c()}(n),d&&d.classList.remove("hovered")};function i(e){d.append(e),o.childElementCount<=0&&c()}function a(e,t,o={x:0,y:0}){e.style.left=t.pageX-o.x-50+"px",e.style.top=t.pageY-o.y-50+"px"}function c(){const e=document.createElement("div");e.className="cat",e.draggable=!0,e.style.outlineColor=`#${Math.floor(16777215*Math.random()).toString(16)}`,e.addEventListener("pointerdown",r),o.append(e)}c(),window.currentField=d})();