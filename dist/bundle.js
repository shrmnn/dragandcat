(()=>{const e=document.querySelector(".grid"),t=document.querySelector(".hoop"),o=document.querySelector(".spawner");let n,s;function r(){this.classList.add("hold"),n=this}function a(e){this.classList.remove("hold"),n=null,function(e){e.target.classList.remove("absolute"),e.target.style.left="0",e.target.style.top="0"}(e),s===t&&function(e){e.target.classList.add("absolute"),(e.offsetX<0||e.offsetY<0)&&e.target.parentNode.removeChild(e.target),e.target.style.left=e.offsetX-50+"px",e.target.style.top=e.offsetY-50+"px"}(e),s=null}function d(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function i(e){this.classList.add("hovered"),s=this}function l(e){this.classList.remove("hovered")}function c(r){r.stopPropagation(),this.classList.remove("hovered"),console.log("event",this,r,r.target,s),this!==o?this.append(n):this!==t&&this!==e&&(console.log("removed!",this),n.parentNode.removeChild(n)),o.childElementCount<=0&&f()}function f(){const e=document.createElement("div");var t;e.className="cat",e.draggable=!0,e.style.outlineColor=`#${Math.floor(16777215*Math.random()).toString(16)}`,(t=e).addEventListener("dragstart",r),t.addEventListener("dragend",a),o.append(e)}function u(e){e.addEventListener("dragover",d),e.addEventListener("dragenter",i),e.addEventListener("dragleave",l),e.addEventListener("drop",c)}f(),u(e),u(t),u(o),window.currentField=s})();